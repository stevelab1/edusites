{% extends "base.html" %}

{% load thumbnail %}


{% block title %}
  {% if subject %}
    {{ subject.title }} courses
  {% else %}
    All Courses
  {% endif %}
{% endblock %}

{% block content %}
<nav aria-label="breadcrumb">
  <ol class="breadcrumb p-1 m-2">
    <li class="breadcrumb-item"><a href="/"><svg width="1em" height="1em" viewBox="0 2 17 15.5" class="bi bi-house-door-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M6.5 10.995V14.5a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .146-.354l6-6a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 .146.354v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5V11c0-.25-.25-.5-.5-.5H7c-.25 0-.5.25-.5.495z"/>
  <path fill-rule="evenodd" d="M13 2.5V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"/>
</svg></a></li>
    <li class="breadcrumb-item active" aria-current="page">{% if subject %}
      {{ subject.title }} Courses
    {% else %}
      All Courses
    {% endif %}</li>
  </ol>
</nav>
<div class="container">
  <div class="card text-center m-2 border-0">
    <div class="card-header border-muted bg-white">
      <ul class="nav nav-pills card-header-pills">
        <li class="nav-item">
           <a class="nav-link active"  data-toggle="pill" href="#learn">LEARN</a>
        </li>
        <li class="nav-item">
           <a class="nav-link" data-toggle="pill" href="#teach">TEACH</a>
        </li>
<!--        <li class="nav-item">-->
<!--           <a class="nav-link" data-toggle="pill" href="#more" tabindex="-1" aria-disabled="true">MORE</a>-->
<!--        </li>-->
      </ul>
    </div>
    <div class="tab-content">
      <div id="learn" class="tab-pane active">
        <div class="card-body" style="height: 100px">
          {% if subject %}
             <h5 class="card-title"> {{ subject.title }} Courses</h5>
             <p class="card-text"> {{ subject.content}} </p>
          {% else %}
             <h5 class="card-title">What do you want to learn?</h5>
             <p class="card-text">Browse Courses</p>
            <!--             <p class="card-text">All the best courses</p>-->
            <!--             <p class="card-text">Top earning skills</p>-->
            <!--             <p class="card-text">Most loved/in-demand technologies</p>-->
<!--             <p class="card-text">We've curated the best courses available online into Learning Paths</p>-->
          {% endif %}
        </div>
      </div>
      <div id="teach" class="tab-pane fade">
        <div class="card-body" style="height: 100px">

<!--            <p><a href="{% url "chat:course_chat_room" "11" %}" target="_blank">-->
<!--      <button type="button" class="btn btn-dark"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chat-left-dots-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">-->
<!--  <path fill-rule="evenodd" d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793V2zm5 4a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg></button></a></p>-->

                    <h5 class="card-title">Want to create your own courses?</h5>
        <p class="card-text">Contact Stephen for an instructor login at the email address you received</p>

<!--        <h5 class="card-title">Want to create your own courses?</h5>-->
<!--        <p class="card-text">Start teaching today</p>-->
<!--        <a href="{% url "manage_course_list" %}" class="btn btn-primary">Create a course</a>-->
    </div>
                </div>

<!--          <div id="more" class="tab-pane fade">-->
<!--    <div class="card-body">-->
<!--    <h5 class="card-title">Are you an education or training provider?</h5>-->
<!--    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>-->
<!--    <a href="#" class="btn btn-primary">Go somewhere</a>-->
<!--  </div>-->
<!--        </div>-->
        </div>

</div>

<!--  <div class="contents text-white bg-secondary mb-3 rounded-3">-->
<!--    <h6>SUBJECTS</h6>-->
<!--    <ul id="browse">-->
<!--      <li {% if not subject %}class="selected"{% endif %}>-->
<!--        <a href="{% url "course_list" %}">All</a>-->
<!--      </li>-->
<!--      {% for s in subjects %}-->
<!--        <li {% if subject == s %}class="selected"{% endif %}>-->
<!--          <a href="{% url "course_list_subject" s.slug %}">-->
<!--            {{ s.title }}<span class="badge bg-outline text-white">{{ s.total_courses }}</span>-->
<!--          </a>-->
<!--        </li>-->
<!--      {% endfor %}-->
<!--    </ul>-->
<!--  </div>-->


  <div class="contents p-0 mx-3 mb-3 rounded-3">

<nav class="navbar navbar-expand-lg navbar-light bg-white rounded-3 p-0">
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarToggler">
      <ul class="navbar-nav mr-auto mb-2 mb-lg-0">

          <li class="nav-item rounded-pill" {% if not subject and not category %}class="selected" style="background-color: #e9ecef"{% endif %}>
        <a class="nav-link active" aria-current="page" href="{% url "course_list" %}">All</a>
      </li>
      {% for s in subjects %}
        <li class="nav-item rounded-pill" {% if subject == s %}class="selected" style="background-color: #e9ecef" {% endif %}>
          <a class="nav-link active" aria-current="page" href="{% url "course_list_subject" s.slug %}">
            {{ s.title }}
          </a>
        </li>
      {% endfor %}


<!-- <li><a class="nav-link active" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid-3x3-gap-fill" viewBox="0 1 16 17">-->
<!--  <path d="M1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2zM1 7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7zM1 12a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-2zm5 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2z"/>-->
<!--</svg></a></li>-->
          <li class="nav-item rounded-pill"><a class="nav-link active" aria-current="page" href="/">#</a></li>


{% for c in categories %}

        <li class="nav-item rounded-pill"  {% if category == c %}class="selected" style="background-color: #e9ecef" {% endif %}>
          <a class="nav-link active" aria-current="page" href="{% url "course_list_category" c.slug %}">

         {{ c.title }}
                      </a>

        </li>
      {% endfor %}
      </ul>
    </div>
  </div>
</nav>
    </div>

<br><br>
<br>



  <div class="">
    <div class="container">
     <div class="row" data-masonry='{"percentPosition": true }'>
       {% for course in courses %}
        {% with subject=course.subject %}
         <div class="col-12 col-md-6 col-lg-4">
              <a href="{% url "course_detail" course.slug %}">
           <div class="card text-dark shadow p-3 mb-4 bg-white rounded">
               <img src="https://res.cloudinary.com/hmklz8dtf/image/upload/v1/{{ course.file }}" class="card-img-top"  onerror="this.style.display='none'">
             <div class="card-header bg-white text-center">{{ course.title }}</div>
             <div class="card-body">
<!--               <h5 class="card-title">{{ course.overview }}</h5>-->
               <h6 class="card-text">{{ course.overview }}</h6>
               <p class="card-text"><small class="text-muted">Instructor: {{ course.owner.get_full_name }}</small></p>
             </div>
             <div class="card-footer bg-white border-0">
               <span  class="badge rounded-pill bg-secondary">{{ course.total_modules }} modules</span>
               <span class="badge rounded-pill bg-secondary"> {{ subject }} </span>
<!--                        {% for c in cats %}-->
<!--                                <span class="badge rounded-pill bg-secondary"> {{ c }} </span>-->
<!--                     {% endfor %}-->


             </div>
           </div>
             </a>
<!--          <div class="card-footer text-center"><small class="text-muted"><a href="{% url "course_list_subject" subject.slug %}" class="card-link">{{ subject }}</small></a></div>-->
<!--        </div>-->
      </div>
      {% endwith %}
    {% endfor %}
  </div>
    </div>
  </div>
</div>


<!--  <div class="contents p-0 mx-3 mb-3 rounded-3">-->

<!--<nav class="navbar navbar-expand-lg navbar-dark bg-secondary rounded-3 p-1">-->
<!--  <div class="container-fluid">-->
<!--    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">-->
<!--      <span class="navbar-toggler-icon"></span>-->
<!--    </button>-->
<!--    <div class="collapse navbar-collapse" id="navbarToggler">-->
<!--      <ul class="navbar-nav mr-auto mb-2 mb-lg-0">-->
<!--      {% for c in categories %}-->

<!--        <li class="nav-item">-->
<!--          <a class="nav-link active" aria-current="page" href="{% url "course_list_category" c.slug %}">-->

<!--         {{ c.title }}-->
<!--                      </a>-->

<!--        </li>-->
<!--      {% endfor %}-->


<!--      </ul>-->
<!--    </div>-->
<!--  </div>-->
<!--</nav>-->
<!--    </div>-->

{% endblock %}
